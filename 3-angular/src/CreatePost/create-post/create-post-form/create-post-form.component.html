<section class="mat-elevation-z3" style="padding: 1rem; border-radius: 6px">
  <!-- <clap-app-create-post-image-holder></clap-app-create-post-image-holder> -->

  <p><b>Something funny in your mind you would like to share?</b></p>

  <form [formGroup]="createPostForm">
    <mat-form-field appearance="outline">
      <mat-error *ngIf="createPostForm.get('text')?.hasError('required')"
        >To create post you must write something</mat-error
      >
      <mat-label>Write text to your post</mat-label>
      <textarea
        matInput
        cdkTextareaAutosize
        #autosize="cdkTextareaAutosize"
        cdkAutosizeMinRows="3"
        cdkAutosizeMaxRows="6"
        maxlength="255"
        formControlName="text"
      ></textarea>
    </mat-form-field>
  </form>
</section>

<button
  *ngIf="!loading"
  class="create-post-button"
  [disabled]="this.createPostForm.invalid"
  mat-raised-button
  color="primary"
  (click)="submit()"
>
  CREATE POST
</button>

<button
  *ngIf="loading"
  class="create-post-button"
  mat-raised-button
  color="primary"
  disabled
>
  <clap-app-loading-spinner [diameter]="40"></clap-app-loading-spinner>
</button>
